---
layout: default
---

# 企画開発部 第二回

## 目次

- [条件分岐](#条件分岐)
- [if文](#if文)
- [for文](#for文)
- [while文](#while文)

<br />

## 条件分岐

今回は、

- ある条件を満たす時だけ特定の処理をする。
- 条件を満たす間、特定の処理を繰り返す

を実現する方法を試してみます。

<br />

## if文

#### 真理値を表す型 bool

プログラミングでは様々な場面で真理値(真(True)、偽(False))を扱いたくなる場面があります。例えば、スーパーマリオを再現したゲームを作ろうとすると以下のような場面にでくわします。
- タイムがまだ残っているか？残り時間が $0$ 秒になったのならゲームオーバにしないといけない
- マリオがクリボーに接触しているか？しているならマリオにダメージを与えないといけない
    - マリオが大人マリオやファイヤーマリオなら元のマリオに戻す(マリオは今ダメージを受けても耐えられる状態か？）
    - マリオがスター状態ならダメージを与えない(マリオは今無敵か？)
- Pスイッチが押されている状態か？押されているならコインとブロックを逆転しないといけない。専用のBGMを流す必要もある

これらの例は全て真か偽で表現できることがわかります。

`C++`においては、このような真理値を扱うのに`bool`という型が有用です。
- 型というのは、データの種類・扱われ方のことでしたね。

以下のコードを試してみましょう。

```cpp
#include <iostream>

int main() {
    bool true_value = true;
    bool false_value = false;
    std::cout << true_value << std::endl;
    std::cout << false_value << std::endl;
    return 0;
}
```

`bool`値のリテラル[^1] に`true`と`false`があります。それぞれ真、偽を表します。

出力結果は
```txt
1
0
```
となっているはずです。`bool`型を`std::cout`で出力すると、`true`なら $1$ 、 `false` なら $0$ を出力します。

<br />

#### 比較演算子

数の大小関係や、文字列で辞書順でどちらが前か、このふたつのOOは等しいか異なるかといった関係は真理値で扱えます。

```cpp
#include <iostream>

int main() {
    int a, b;
    std::cin >> a >> b;
    bool isSame = (a == b);
    std::count << isSame << std::endl;
    return 0;
}
```

$2$ つの整数を空白区切りで入力してあげてください。入力によって出力が異なると思います。
- 等しい時に $1$ 、異なる時に $0$ を出力すると思います。

C++では、`==`と書くことで左辺と右辺が等しいかを判定できます。(等値演算子[^2])
- 左辺と右辺が等しい時に`true`、そうでない時は`false`と評価されます

他にも以下のような比較演算子があります。(ここにあるのが全てでは無いです)

| 演算子 | trueになる条件 | 注釈 |
| :---: | :---: | :---: |
| < | 左辺が右辺より小さい | 文字や文字列だと、辞書順比較 |
| <= | 左辺が右辺以下か | |
| > | 左辺が右辺より大きい | |
| >= | 左辺が右辺以上 | |
| != | 左辺と右辺が異なる | |


#### if文

以下のサンプルコードを試してみましょう

```cpp
#include <iostream>

int main() {
    std::cout << "整数を入力してください" << std::endl;

    int value;
    std::cin >> value;
    
    if (value % 3 == 0) {
        std::cout << "value is 3k!" << std::endl;
    }
    else if (value % 3 == 1) {
        std::cout << "value is 3k + 1!" << std::endl;
    }
    else {
        std::cout "value is 3k + 2!" << std::endl;
    }

    return 0;
}
```

標準入力を`int`型の変数`value`に記憶して、`value`の $3$ で割ったあまりによって出力結果が変わります。



この行に注目してみてください。

```cpp
if (value % 3 == 0) {
```

この構文は`if`文といって、()の中身の式、値が`true`と評価されるなら波括弧`{}`の中の処理をすることができます。
- 今回は、()の中に`value % e == 0`が入っていますね。`value % 2`は`value`を $3$ で割ったあまりが $0$ の時に $0$ になりますね。
- つまり、`value`が $3$ の倍数の時に左辺と右辺が等しくなって`value % 2 == 0`が`true`と評価されます。

```cpp
else if (value % 3 == 1)
```
直前までの`if`文が`false`で`{}`の中身を評価されなかった時、`else if`文の条件分岐を見ます。この`else if ()`の`()`の中身が`true`ならば`{}`の中身に入って、そうでないならばそのさらに下の`else if`や`else`の条件分岐に移ります。

```cpp
else {
```
一連の`if`、`else if`が全て`false`だっと時に限り、`{}`の中に入ります。それ以外に入ることはありません。

```txt
if () { // 最初の条件分岐
}
else if () { // 上のifがfalseの時
}
else if () { // 上のif、else ifがfalseの時
}
...
else { // 一連のif、else ifがfalseの時

}
```

みたいなルールで条件分岐をします。

**注意**
- `else if`は`if`文の後に続く。
- `else`文は一連の`if`の最後にしか来ない。

```cpp
これはだめ
else if () {
}
else {
}
```

```cpp
これもだめ
else {
}
if () {
}
```

<br />

#### ちょっと練習

1. ２つの整数を標準入力で受け取って、先に入力した整数が後に入力した整数よりも小さい時に「a < b!」と出力するプログラムを書きましょう
2. `if`文や比較演算子を自由に試してみましょう。

<br />

#### 整数と真理値の関係


整数型(`int`や`long`、`std::int32_t`等)は必要に応じて以下のルールで真理値に変換されます。(例えば`if`文の`()`の中に整数を入れた時)
- $0$ なら `false`
- $0$ でないなら `true`

以下のコードを試してみましょう。

```cpp
#include <iostream>

int main() {
    int val;
    std::cin >> val;
    if (val) {
        std::cout << val << " true" << std::endl;
    }
    else {
        std::cout << val << " false" << std::endl;
    }
    return 0;
}
```

`bool`は反対に`true`なら`1`、`false`なら`0`と変換されることがあります。
- 標準出力の時もそうでしたね。

```cpp
#include <iostream>

int main() {
    bool a = true, b = false, c = true;
    int sum = 0;
    sum += a;
    sum += b;
    sum += c;
    std::cout << sum << std::endl;

    return 0;
}
```

<br />

#### ややこしいクイズ



慣れないと結構ややこしいので、間違えても落ち込まないでください。
- 正解は自分でプログラムを書いて確認してみましょう

1. `false != true`の真理値は？
2. `false < true`の真理値は？
3. `(0 + 1)`の真理値は？
4. `(1 + 1) == true`の真理値は？
5. `true == (1 + 1)`の真理値は？

<br />

#### 論理演算子

例えば、以下のような状況を考えます。
- 入力した整数が $3$ の倍数だけど $2$ の倍数でないかを判定したい。

これは以下の様に書けます。

```cpp
#include <iostream>

int main() {
    int value;
    std::cin >> value;
    if (value % 3 == 0) {
        if (value % 2 != 0) {
            std::cout << "Yay!" << std::endl;
        }
    }
    return 0;
}
```

しかし、以下のようにも書けます。

```cpp
#include <iostream>

int main() {
    int value;
    std::cin >> value;
    if (value % 3 == 0 and value % 2 != 0) {
        std::cout << "Yay!" << std::endl;
    }
    return 0;
}
```

ここでの`and`とは「かつ」を表す「論理演算子」です。

他の論理演算子も列挙しておきます。

| 論理演算子 | 意味 | 真になる条件 | 他の書き方 |
| :---: | :---: | :---: | :---: |
| and | 論理積 | 右辺がtrueかつ左辺がtrue | && |
| or | 論理和 | 右辺または左辺の少なくとも一方がtrue | && |
| not | 否定 | 右辺が偽の時 | ! |

`not`だけ二項演算でないことに注意してください。



[^1]: 数値や文字の並びを直接プログラムに書いたものをリテラルと呼びます。例えば、"Hello World"は文字列リテラル。'a'は文字リテラル。 $1333$ は整数リテラルです。他にも沢山の種類のリテラルがあります。

[^2]: リファレンスによって「等価演算子」と言われている時もあれば「等値演算子」と言われている時もあってヤバイ！！！。規格書は「equal to」と言っているので等値だと思います。
